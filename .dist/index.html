<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EcoCycle | Waste to Value Marketplace</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Segoe UI',Arial;
  background:#eef4f2;
  color:#222;
}
.hidden{display:none}

/* HEADER */
header{
  background:linear-gradient(120deg,#1e7f5c,#2ecc71);
  color:white;
  padding:18px 24px;
  display:flex;
  align-items:center;
}
header i{font-size:26px;cursor:pointer;margin-right:16px}

/* MENU */
.menu{
  position:fixed;
  top:0; left:-340px;
  width:340px; height:100%;
  background:#145a42;
  color:white;
  padding:28px;
  transition:.3s;
  overflow:auto;
  z-index:1000;
}
.menu a{
  display:block;
  margin:18px 0;
  color:white;
  font-size:17px;
  text-decoration:none;
  cursor:pointer;
}
.menu a i{margin-right:10px}

/* SEARCH */
.top-bar{
  background:#dff1ea;
  padding:14px;
  display:flex;
  gap:12px;
}
.top-bar input,.top-bar select{
  flex:1;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
}

/* SCREENS */
.screen{padding:30px}

/* HERO */
.hero{
  background:linear-gradient(120deg,#1e7f5c,#38c172);
  color:white;
  padding:40px;
  border-radius:20px;
  margin-bottom:35px;
}
.hero-stats{
  display:flex;gap:25px;margin-top:20px;flex-wrap:wrap
}
.hero-stats div{
  background:rgba(255,255,255,.18);
  padding:16px 22px;
  border-radius:14px;
  text-align:center;
}

/* PRODUCTS */
.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
  gap:24px;
}
.card{
  background:white;
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 6px 18px rgba(0,0,0,.14);
}
.card img{width:100%;height:180px;object-fit:cover}
.card-body{padding:16px}
.price{font-weight:bold;font-size:18px}
.rating{color:#f5b301}
.seller{font-size:13px;color:#555}
.verified{
  display:inline-block;
  background:#e8fff1;
  color:#1e7f5c;
  padding:4px 10px;
  border-radius:12px;
  font-size:12px;
  margin-top:6px;
}

/* BUTTON */
button{
  width:100%;
  padding:12px;
  background:#1e7f5c;
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

/* FORMS */
input,textarea,select{
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #ccc;
}

/* MISC */
.ticket{
  background:#f5f5f5;
  padding:14px;
  border-radius:10px;
  margin:10px 0;
}
.summary{
  background:#f6f6f6;
  padding:18px;
  border-radius:12px;
}
</style>
</head>

<body>

<header>
  <i class="fa fa-bars" onclick="toggleMenu()"></i>
  <h1>EcoCycle ♻</h1>
</header>

<div class="menu" id="menu">
  <a onclick="openScreen('home')"><i class="fa fa-store"></i>Marketplace</a>
  <a onclick="openScreen('sellerProfiles')"><i class="fa fa-users"></i>Seller Profiles</a>
  <a onclick="openScreen('sell')"><i class="fa fa-plus"></i>Sell Product</a>
  <a onclick="openScreen('about')"><i class="fa fa-circle-info"></i>About Platform</a>
  <a onclick="openScreen('backend')"><i class="fa fa-diagram-project"></i>Backend & System</a>
  <a onclick="openScreen('support')"><i class="fa fa-headset"></i>Customer Care</a>
  <a onclick="openScreen('policy')"><i class="fa fa-shield"></i>Seller Policy</a>
</div>

<div class="top-bar">
  <input id="search" placeholder="Search product / seller / city">
  <select id="cityFilter">
    <option value="">All Cities</option>
    <option>Nagpur</option><option>Pune</option>
    <option>Mumbai</option><option>Delhi</option><option>Indore</option>
  </select>
</div>

<!-- HOME -->
<div id="home" class="screen">
  <div class="hero">
    <h2>Turning Small Plastic Waste into Valuable Products</h2>
    <p>EcoCycle aggregates ignored plastic waste and converts it into useful products.</p>
    <div class="hero-stats">
      <div><b>128+ kg</b><br>Plastic Recycled</div>
      <div><b>210+ kg</b><br>CO₂ Reduced</div>
      <div><b>42+</b><br>Verified Sellers</div>
      <div><b>30+</b><br>Eco Products</div>
    </div>
  </div>
  <div class="products" id="productGrid"></div>
</div>

<!-- SELLER PROFILES -->
<div id="sellerProfiles" class="screen hidden">
  <h2>Seller Profiles</h2>
  <input id="sellerSearch" placeholder="Search seller..." oninput="renderSellerList()">
  <div id="sellerList"></div>
</div>

<!-- SELLER DASHBOARD -->
<div id="sellerDashboard" class="screen hidden">
  <h2 id="sellerTitle"></h2>
  <div id="sellerProducts"></div>
</div>

<!-- SELL PRODUCT -->
<div id="sell" class="screen hidden">
  <h2>Add New Product</h2>
  <input id="sname" placeholder="Seller Name">
  <input id="scity" placeholder="City">
  <input id="pname" placeholder="Product Name">
  <input id="pprice" placeholder="Price">
  <input id="pqty" placeholder="Quantity">
  <input id="pimg" placeholder="Image URL">
  <textarea id="pdesc" placeholder="Product Description"></textarea>
  <button onclick="addProduct()">Submit Product</button>
</div>

<!-- BUY FLOW -->
<div id="buyDetails" class="screen hidden">
  <h2>Delivery Details</h2>
  <input id="buyerName" placeholder="Full Name">
  <input id="buyerPhone" placeholder="Phone Number">
  <textarea id="buyerAddress" placeholder="Delivery Address"></textarea>
  <button onclick="goPayment()">Continue to Payment</button>
</div>

<div id="payment" class="screen hidden">
  <h2>Payment Method</h2>
  <select id="paymentMode">
    <option>Cash on Delivery</option>
    <option>UPI</option>
    <option>Card</option>
    <option>EMI</option>
  </select>
  <button onclick="confirmOrder()">Confirm Order</button>
</div>

<div id="confirmation" class="screen hidden">
  <h2>Order Confirmed ✅</h2>
  <div id="orderSummary" class="summary"></div>
</div>

<!-- ABOUT -->
<div id="about" class="screen hidden">
  <h2>About EcoCycle</h2>
  <p>EcoCycle focuses on converting ignored plastic waste into economic value.</p>
  <img src="https://images.unsplash.com/photo-1581092918056-0c4c3acd3789" width="100%">
</div>

<!-- BACKEND -->
<div id="backend" class="screen hidden">
  <h2>Backend & System Flow</h2>
  <p>Collection → Verification → Recycling → Manufacturing → Marketplace → Delivery</p>
  <img src="https://images.unsplash.com/photo-1581090700227-1e37b190418e" width="100%">
</div>

<!-- SUPPORT -->
<div id="support" class="screen hidden">
  <h2>Customer Care</h2>
  <p>Email: support@ecocycle.in<br>Phone: +91-98765-43210</p>
  <div class="ticket">Ticket #EC1023 – Resolved</div>
</div>

<!-- POLICY -->
<div id="policy" class="screen hidden">
  <h2>Seller Policy</h2>
  <ul>
    <li>Only verified dry-waste-based products allowed</li>
    <li>Fake listings → Permanent Ban</li>
    <li>Mandatory quality audits</li>
  </ul>
</div>

<script>
const screens=document.querySelectorAll(".screen");
const productGrid=document.getElementById("productGrid");
const sellerList=document.getElementById("sellerList");
const sellerProducts=document.getElementById("sellerProducts");

let selectedProduct=null;
let products=JSON.parse(localStorage.getItem("products"))||[];

/* INIT DATA */
if(products.length===0){
  for(let i=1;i<=30;i++){
    products.push({
      n:"Eco Product "+i,
      p:300+i*15,
      qty:20,
      s:"GreenSeller"+(i%5+1),
      city:["Nagpur","Pune","Mumbai","Delhi","Indore"][i%5],
      i:"https://picsum.photos/400/300?random="+i,
      d:"Made from recycled plastic waste"
    });
  }
  localStorage.setItem("products",JSON.stringify(products));
}

function save(){localStorage.setItem("products",JSON.stringify(products));}

function openScreen(id){
  screens.forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
  menu.style.left="-340px";
}
function toggleMenu(){
  menu.style.left = menu.style.left==="0px"?"-340px":"0px";
}

/* PRODUCTS */
function renderProducts(list=products){
  productGrid.innerHTML="";
  list.forEach((p,i)=>{
    productGrid.innerHTML+=`
    <div class="card">
      <img src="${p.i}">
      <div class="card-body">
        <h4>${p.n}</h4>
        <p>${p.d}</p>
        <div class="rating">⭐⭐⭐⭐☆</div>
        <div class="price">₹${p.p}</div>
        <div class="seller">${p.s}, ${p.city}</div>
        <span class="verified">✔ Verified Seller</span>
        <button onclick="buyProduct(${i})">Buy</button>
      </div>
    </div>`;
  });
}

/* SEARCH */
search.oninput=cityFilter.onchange=()=>{
  const v=search.value.toLowerCase();
  const c=cityFilter.value;
  renderProducts(products.filter(p=>
    (p.n+p.s+p.city).toLowerCase().includes(v) &&
    (c===""||p.city===c)
  ));
};

/* SELLERS */
function renderSellerList(){
  sellerList.innerHTML="";
  [...new Set(products.map(p=>p.s))].forEach(s=>{
    sellerList.innerHTML+=`
    <div class="ticket">
      <b>${s}</b>
      <button onclick="openSellerProfile('${s}')">View Profile</button>
    </div>`;
  });
}
function openSellerProfile(name){
  openScreen("sellerDashboard");
  sellerTitle.innerText=name;
  sellerProducts.innerHTML="";
  products.filter(p=>p.s===name).forEach(p=>{
    sellerProducts.innerHTML+=`
    <div class="ticket">
      <b>${p.n}</b><br>
      Price <input value="${p.p}" onchange="p.p=this.value;save();renderProducts()"><br>
      Qty <input value="${p.qty}" onchange="p.qty=this.value;save();renderProducts()">
    </div>`;
  });
}

/* SELL */
function addProduct(){
  products.unshift({
    n:pname.value,p:+pprice.value,qty:+pqty.value,
    s:sname.value,city:scity.value,
    i:pimg.value,d:pdesc.value
  });
  save();
  renderProducts();
  openScreen("home");
}

/* BUY FLOW */
function buyProduct(i){
  selectedProduct=products[i];
  openScreen("buyDetails");
}
function goPayment(){
  if(!buyerName.value||!buyerPhone.value||!buyerAddress.value){
    alert("Please fill all details");return;
  }
  openScreen("payment");
}
function confirmOrder(){
  orderSummary.innerHTML=`
  <b>Product:</b> ${selectedProduct.n}<br>
  <b>Price:</b> ₹${selectedProduct.p}<br>
  <b>Name:</b> ${buyerName.value}<br>
  <b>Phone:</b> ${buyerPhone.value}<br>
  <b>Payment:</b> ${paymentMode.value}<br>
  <b>Delivery:</b> 3–5 Working Days`;
  openScreen("confirmation");
}

/* INIT */
renderProducts();
renderSellerList();
openScreen("home");
</script>

</body>
</html>
